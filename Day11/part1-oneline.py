print(next(f[0] for g in [[list(map(int,line.strip())) for line in open('input.txt')]] for f in [[0]] for _ in [[([g[y].insert(x,g[y].pop(x)+1) for y in range(10) for x in range(10)], [(g[y].pop(x), g[y].insert(x,0), f.append(f.pop()+1), [g[y+dy].insert(x+dx,g[y+dy].pop(x+dx)+1) for dy in range(-1,2) for dx in range(-1,2) if (dy != 0 or dx != 0) and 0 <= y+dy < 10 and 0 <= x+dx < 10 and g[y+dy][x+dx] > 0]) for _ in range(100) for y in range(10) for x in range(10) if g[y][x] > 9]) for _ in range(100)]]))
