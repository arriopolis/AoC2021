print(next(int(''.join(map(str,o[0][0])),2) * int(''.join(map(str,c[0][0])),2) for x in [list(map(lambda x : list(map(int,x.strip())), open('input.txt').readlines()))] for o,c in [([[y.copy() for y in x]],[[y.copy() for y in x]])] for _ in [[(o.append(list(filter(lambda x : x[i] == int(2*sum(y[i] for y in o[0]) >= len(o[0])), o[0]))), o.pop(0), c.append(list(filter(lambda x : len(c[0]) == 1 or x[i] == int(2*sum(y[i] for y in c[0]) < len(c[0])), c[0]))), c.pop(0)) for i in range(len(o[0][0]))]]))
